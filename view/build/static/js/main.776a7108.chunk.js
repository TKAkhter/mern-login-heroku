(this.webpackJsonpreactlogin=this.webpackJsonpreactlogin||[]).push([[0],{185:function(e,a,t){},311:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),i=t(49),o=t.n(i),c=(t(185),t(18)),s=t(28),l=t(50),d=t.n(l),j=t(63),m=t(359),u=t(366),h=t(351),b=t(353),x=t(365),p=t(355),O=t(362),g=t(358),v=t(364),f=t(363),y=t(88),w=t.n(y),C=t(361),N=t(161),S=t(360),E=t(30),q="localhost"===window.location.hostname.split(":")[0]?"http://localhost:5000":"",k=t(13),F=function(e,a){switch(a.type){case"USER_LOGIN":return a.payload.firstName&&a.payload.lastName&&a.payload.email&&a.payload._id?Object(s.a)(Object(s.a)({},e),{},{user:a.payload}):(console.log("invalid data in USER_LOGIN reducer "),e);case"USER_LOGOUT":return Object(s.a)(Object(s.a)({},e),{},{user:null});case"TOGGLE_THEME":return Object(s.a)(Object(s.a)({},e),{},{darkTheme:!e.darkTheme});default:return e}},T=t(1),I=Object(r.createContext)("Initial Value"),W={darkTheme:!0,user:{}};function P(e){var a=e.children,t=Object(r.useReducer)(F,W),n=Object(k.a)(t,2),i=n[0],o=n[1];return Object(T.jsx)(I.Provider,{value:{state:i,dispatch:o},children:a})}var B=E.a({email:E.b("Enter your email").email("Enter a valid email").required("Email is required"),password:E.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),G=function(e){return Object(T.jsxs)(C.a,Object(s.a)(Object(s.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(T.jsx)(O.a,{color:"inherit",href:q,children:"Your Website"})," ",(new Date).getFullYear(),"."]}))},R=Object(N.a)(),_=function(){var e=Object(c.g)(),a=Object(r.useContext)(I).dispatch,t=Object(j.a)({validationSchema:B,initialValues:{email:"",password:""},onSubmit:function(e){console.log("values: ",e),d.a.post("".concat(q,"/api/v1/login"),{email:e.email,password:e.password}).then((function(e){console.log("res: ",e.data),e.data.email&&a({type:"USER_LOGIN",payload:{firstName:e.data.firstName,lastName:e.data.lastName,email:e.data.email,_id:e.data._id}})})).catch((function(e){console.log("error: ",e)}))}});return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(S.a,{theme:R,children:Object(T.jsxs)(g.a,{container:!0,component:"main",sx:{height:"100vh",overflow:"hidden"},children:[Object(T.jsx)(h.a,{}),Object(T.jsx)(g.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(T.jsx)(g.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,children:Object(T.jsxs)(v.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(T.jsx)(m.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(T.jsx)(w.a,{})}),Object(T.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(T.jsxs)(v.a,{component:"form",noValidate:!0,onSubmit:t.handleSubmit,sx:{mt:1},children:[Object(T.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,color:"primary",variant:"outlined",value:t.values.email,onChange:t.handleChange,error:t.touched.email&&Boolean(t.errors.email),helperText:t.touched.email&&t.errors.email}),Object(T.jsx)(b.a,{margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",color:"primary",variant:"outlined",value:t.values.password,onChange:t.handleChange,error:t.touched.password&&Boolean(t.errors.password),helperText:t.touched.password&&t.errors.password}),Object(T.jsx)(x.a,{control:Object(T.jsx)(p.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(T.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},color:"primary",children:"Sign In"}),Object(T.jsxs)(g.a,{container:!0,children:[Object(T.jsx)(g.a,{item:!0,xs:!0,children:Object(T.jsx)(O.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(T.jsx)(g.a,{item:!0,children:Object(T.jsx)(O.a,{onClick:function(){e.push("/signup")},variant:"body2",children:"Don't have an account? Sign Up"})})]}),Object(T.jsx)(G,{sx:{mt:5}})]})]})})]})})})},L=E.a({firstName:E.b("Enter your First name").required("Name is required"),lastName:E.b("Enter your Last name").required("Name is required"),email:E.b("Enter your email").email("Enter a valid email").required("Email is required"),password:E.b("Enter your password").min(8,"Password should be of minimum 8 characters length").required("Password is required")}),D=function(e){return Object(T.jsxs)(C.a,Object(s.a)(Object(s.a)({variant:"body2",color:"text.secondary",align:"center"},e),{},{children:["Copyright \xa9 ",Object(T.jsx)(O.a,{color:"inherit",href:q,children:"Your Website"})," ",(new Date).getFullYear(),"."]}))},U=Object(N.a)(),V=function(){var e=Object(r.useState)(!1),a=Object(k.a)(e,2),t=a[0],n=a[1],i=Object(c.g)(),o=Object(j.a)({validationSchema:L,initialValues:{firstName:"",lastName:"",email:"",password:""},onSubmit:function(e){console.log("values: ",e),d.a.post("".concat(q,"/api/v1/user"),{firstName:e.firstName,lastName:e.lastName,email:e.email,password:e.password}).then((function(e){console.log("res: ",e.data),e.data.email&&n(!0)})).catch((function(e){console.log("error: ",e)}))}});return t?Object(T.jsx)(c.a,{to:"/login"}):Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(S.a,{theme:U,children:Object(T.jsxs)(g.a,{container:!0,component:"main",sx:{height:"100vh",overflow:"hidden"},children:[Object(T.jsx)(h.a,{}),Object(T.jsx)(g.a,{item:!0,xs:!1,sm:4,md:7,sx:{backgroundImage:"url(https://source.unsplash.com/random)",backgroundRepeat:"no-repeat",backgroundColor:function(e){return"light"===e.palette.mode?e.palette.grey[50]:e.palette.grey[900]},backgroundSize:"cover",backgroundPosition:"center"}}),Object(T.jsx)(g.a,{item:!0,xs:12,sm:8,md:5,component:f.a,elevation:6,square:!0,children:Object(T.jsxs)(v.a,{sx:{my:8,mx:4,display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(T.jsx)(m.a,{sx:{m:1,bgcolor:"secondary.main"},children:Object(T.jsx)(w.a,{})}),Object(T.jsx)(C.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(T.jsxs)(v.a,{component:"form",noValidate:!0,onSubmit:o.handleSubmit,sx:{mt:3},children:[Object(T.jsxs)(g.a,{container:!0,spacing:2,children:[Object(T.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(b.a,{autoComplete:"given-name",name:"firstName",required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,color:"primary",variant:"outlined",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name})}),Object(T.jsx)(g.a,{item:!0,xs:12,sm:6,children:Object(T.jsx)(b.a,{required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastName",autoComplete:"given-name",autoFocus:!0,color:"primary",variant:"outlined",value:o.values.name,onChange:o.handleChange,error:o.touched.name&&Boolean(o.errors.name),helperText:o.touched.name&&o.errors.name})}),Object(T.jsx)(g.a,{item:!0,xs:12,children:Object(T.jsx)(b.a,{required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",color:"primary",variant:"outlined",value:o.values.email,onChange:o.handleChange,error:o.touched.email&&Boolean(o.errors.email),helperText:o.touched.email&&o.errors.email})}),Object(T.jsx)(g.a,{item:!0,xs:12,children:Object(T.jsx)(b.a,{required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"new-password",color:"primary",variant:"outlined",value:o.values.password,onChange:o.handleChange,error:o.touched.password&&Boolean(o.errors.password),helperText:o.touched.password&&o.errors.password})}),Object(T.jsx)(g.a,{item:!0,xs:12,children:Object(T.jsx)(x.a,{control:Object(T.jsx)(p.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive inspiration, marketing promotions and updates via email."})})]}),Object(T.jsx)(u.a,{type:"submit",fullWidth:!0,variant:"contained",sx:{mt:3,mb:2},color:"primary",children:"Sign Up"}),Object(T.jsx)(g.a,{container:!0,justifyContent:"flex-end",children:Object(T.jsx)(g.a,{item:!0,children:Object(T.jsx)(O.a,{onClick:function(){i.push("/login")},variant:"body2",children:"Already have an account? Sign in"})})}),Object(T.jsx)(D,{sx:{mt:5}})]})]})})]})})})},A=t(368),Y=t(369),z=t(370),H=t(159),J=t.n(H),M=function(){var e=Object(c.g)();return Object(T.jsx)(T.Fragment,{children:Object(T.jsx)(v.a,{sx:{flexGrow:1},children:Object(T.jsx)(A.a,{position:"static",children:Object(T.jsxs)(Y.a,{children:[Object(T.jsx)(z.a,{size:"large",edge:"start",color:"inherit","aria-label":"menu",sx:{mr:2},children:Object(T.jsx)(J.a,{})}),Object(T.jsx)(C.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"News"}),Object(T.jsx)(u.a,{color:"inherit",onClick:function(){e.push("/")},children:"Home"}),Object(T.jsx)(u.a,{color:"inherit",onClick:function(){e.push("/signup")},children:"Signup"})]})})})})},K=t(367),Q=t(356),X=t(371),Z=t(160),$=t.n(Z),ee=E.a({title:E.b("Enter your email").required("Email is required")}),ae=function(){var e=Object(r.useContext)(I),a=e.state,t=(e.dispatch,Object(r.useState)([])),n=Object(k.a)(t,2),i=n[0],o=n[1],c=Object(r.useState)(!0),s=Object(k.a)(c,2),l=s[0],m=s[1];Object(r.useEffect)((function(){d.a.get("".concat(q,"/api/v1/post"),{}).then((function(e){console.log("res: ",e.data),o(e.data)})).catch((function(e){console.log("error: ",e)}))}),[l]);var h=Object(j.a)({initialValues:{title:"",description:""},onSubmit:function(e){var t;console.log("values: ",e),d.a.post("".concat(q,"/api/v1/post"),{title:e.title,description:e.description,firstName:null===a||void 0===a||null===(t=a.user)||void 0===t?void 0:t.firstName}).then((function(e){console.log("res: ",e.data),m(!l)})).catch((function(e){console.log("error: ",e)}))},validationSchema:ee});return Object(T.jsx)(T.Fragment,{children:Object(T.jsxs)(v.a,{sx:{flexGrow:1,m:2},children:[Object(T.jsx)(C.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Posts"}),Object(T.jsx)(v.a,{component:"form",noValidate:!0,onSubmit:h.handleSubmit,sx:{mt:1},children:Object(T.jsx)(f.a,{style:{margin:16,padding:16},elevation:3,children:Object(T.jsxs)(g.a,{container:!0,alignItems:"center",spacing:2,children:[Object(T.jsx)(g.a,{xs:5,md:10,item:!0,style:{paddingRight:16},children:Object(T.jsx)(b.a,{fullWidth:!0,placeholder:"Title",color:"primary",id:"outlined-basic",label:"Title",variant:"filled",name:"title",value:h.values.title,onChange:h.handleChange,error:h.touched.title&&Boolean(h.errors.title),helperText:h.touched.title&&h.errors.title})}),Object(T.jsx)(g.a,{xs:5,md:10,item:!0,style:{paddingRight:16},children:Object(T.jsx)(b.a,{fullWidth:!0,color:"primary",id:"outlined-basic",placeholder:"Description",label:"Description",variant:"filled",name:"description",value:h.values.description,onChange:h.handleChange,error:h.touched.description&&Boolean(h.errors.description),helperText:h.touched.description&&h.errors.description})}),Object(T.jsx)(g.a,{xs:2,md:2,item:!0,children:Object(T.jsx)(u.a,{fullWidth:!0,color:"success",variant:"contained",type:"submit",children:"Add"})})]})})}),Object(T.jsxs)(f.a,{style:{margin:16,padding:16},elevation:3,children:[Object(T.jsx)(C.a,{variant:"h6",component:"div",sx:{flexGrow:1},children:"Recently Added:"}),Object(T.jsx)(K.a,{spacing:3,children:i.map((function(e){return Object(T.jsx)(f.a,{style:{margin:10},elevation:3,id:e._id,children:Object(T.jsx)(Q.a,{secondaryAction:Object(T.jsx)(z.a,{edge:"end","aria-label":"delete",children:Object(T.jsx)($.a,{onClick:function(e){return a=e,void d.a.delete("".concat(q,"/api/v1/post"),{data:{id:a.target.parentNode.id}}).then((function(e){console.log("res: ",e.data),m(!l)})).catch((function(e){console.log("error: ",e)}));var a},id:e._id})}),children:Object(T.jsx)(X.a,{primary:e.title,secondary:e.description+" By "+e.firstName})})},e._id)}))})]})]})})};var te=function(){return Object(T.jsxs)(T.Fragment,{children:[Object(T.jsx)(M,{}),Object(T.jsx)(ae,{})]})};var re=function(){var e=Object(r.useContext)(I).state;return Object(T.jsx)(T.Fragment,{children:e.user.email?Object(T.jsxs)(c.d,{children:[Object(T.jsx)(c.b,{exact:!0,path:"/",children:Object(T.jsx)(te,{})}),Object(T.jsx)(c.a,{to:"/"})]}):Object(T.jsxs)(c.d,{children:[Object(T.jsx)(c.b,{exact:!0,path:"/",children:Object(T.jsx)(_,{})}),Object(T.jsx)(c.b,{exact:!0,path:"/login",children:Object(T.jsx)(_,{})}),Object(T.jsx)(c.b,{exact:!0,path:"/signup",children:Object(T.jsx)(V,{})}),Object(T.jsx)(c.a,{to:"/"})]})})},ne=function(e){e&&e instanceof Function&&t.e(3).then(t.bind(null,372)).then((function(a){var t=a.getCLS,r=a.getFID,n=a.getFCP,i=a.getLCP,o=a.getTTFB;t(e),r(e),n(e),i(e),o(e)}))},ie=t(57);o.a.render(Object(T.jsx)(n.a.StrictMode,{children:Object(T.jsx)(P,{children:Object(T.jsx)(ie.a,{children:Object(T.jsx)(re,{})})})}),document.getElementById("root")),ne()}},[[311,1,2]]]);
//# sourceMappingURL=main.776a7108.chunk.js.map